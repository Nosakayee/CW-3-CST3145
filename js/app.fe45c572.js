(function(){"use strict";var t={8516:function(t,e,o){var s=o(5130),r=o(6768),a=o(4232);const n={id:"app"},i=(0,r.Lk)("i",{class:"fa fa-cart-plus"},null,-1);function l(t,e,o,s,l,c){return(0,r.uX)(),(0,r.CE)("div",n,[(0,r.Lk)("button",{onClick:e[0]||(e[0]=(...t)=>c.toggleView&&c.toggleView(...t))},[(0,r.eW)((0,a.v_)(c.cartSize)+" ",1),i]),((0,r.uX)(),(0,r.Wv)((0,r.$y)(l.currentView),{lessons:l.lessons,cart:l.cart,onAddItemToCart:c.addToCart,onRemoveItemFromCart:c.removeFromCart},null,40,["lessons","cart","onAddItemToCart","onRemoveItemFromCart"]))])}o(4114);const c=t=>((0,r.Qi)("data-v-061de4a1"),t=t(),(0,r.jt)(),t),u={class:"mb-3"},d={class:"mb-3"},m=c((()=>(0,r.Lk)("label",{for:"sortAttribute"},"Sort By:",-1))),p=(0,r.Fv)('<option value="title" data-v-061de4a1>Title</option><option value="subject" data-v-061de4a1>Subject</option><option value="location" data-v-061de4a1>Location</option><option value="price" data-v-061de4a1>Price</option><option value="availability" data-v-061de4a1>Available</option>',5),v=[p],b={class:"mb-3"},f=c((()=>(0,r.Lk)("label",{for:"sortOrder"},"Sort Order:",-1))),h=c((()=>(0,r.Lk)("option",{value:"TopToBottom"},"Ascending",-1))),L=c((()=>(0,r.Lk)("option",{value:"BottomToTop"},"Descending",-1))),k=[h,L],C={class:"row"},y={class:"card h-100 shadow-sm"},w={class:"card-header d-flex"},T={class:"mb-1"},O={class:"mb-0"},A={class:"card-body"},g={class:"mb-1"},j=c((()=>(0,r.Lk)("i",{class:"fa fa-eur"}," per hour",-1))),_={class:"mb-1"},V={class:"mb-1"},x={class:"card-footer d-flex justify-content-between"},P=["onClick","disabled"],S=c((()=>(0,r.Lk)("i",{class:"fa fa-cart-plus"},null,-1))),E=[S],I=["onClick"],X=c((()=>(0,r.Lk)("i",{class:"fa fa-minus-circle"},null,-1))),F=[X];function B(t,e,o,n,i,l){return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.Lk)("div",u,[(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=t=>i.searchTerm=t),placeholder:"Search Product...",onInput:e[1]||(e[1]=(...t)=>l.searchLessons&&l.searchLessons(...t))},null,544),[[s.Jo,i.searchTerm]])]),(0,r.Lk)("div",d,[m,(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>i.sortAttribute=t),class:"form-select"},v,512),[[s.u1,i.sortAttribute]])]),(0,r.Lk)("div",b,[f,(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>i.sortOrder=t),class:"form-select"},k,512),[[s.u1,i.sortOrder]])]),(0,r.Lk)("div",C,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.filteredAndSortedLessons,(t=>((0,r.uX)(),(0,r.CE)("div",{class:"col-sm-4 mb-3",key:t.id},[(0,r.Lk)("div",y,[(0,r.Lk)("div",w,[(0,r.Lk)("div",null,[(0,r.Lk)("p",T,"Subject: "+(0,a.v_)(t.subject),1),(0,r.Lk)("h5",O,"Title: "+(0,a.v_)(t.title),1)]),(0,r.Lk)("i",{class:(0,a.C4)([t.icon,"fs-1 ms-auto"])},null,2)]),(0,r.Lk)("div",A,[(0,r.Lk)("p",g,[(0,r.eW)("Price: "+(0,a.v_)(t.price)+" ",1),j]),(0,r.Lk)("p",_,"Location: "+(0,a.v_)(t.location),1),(0,r.Lk)("p",V,"Available: "+(0,a.v_)(t.avaliability),1)]),(0,r.Lk)("div",x,[(0,r.Lk)("button",{class:"btn btn-outline-success",onClick:e=>l.addToCart(t),disabled:0===t.avaliability},E,8,P),(0,r.Lk)("button",{class:"btn btn-outline-danger",onClick:e=>l.removeProduct(t)},F,8,I)])])])))),128))])])}var U={name:"LessonList",props:["lessons"],data(){return{searchTerm:"",sortAttribute:"title",sortOrder:"TopToBottom"}},computed:{filteredAndSortedLessons(){let t=this.lessons.filter((t=>t.title.toLowerCase().includes(this.searchTerm.toLowerCase())||t.subject.toLowerCase().includes(this.searchTerm.toLowerCase())||t.location.toLowerCase().includes(this.searchTerm.toLowerCase())));return t.sort(((t,e)=>{let o=0;return o="price"===this.sortAttribute||"availability"===this.sortAttribute?t[this.sortAttribute]-e[this.sortAttribute]:t[this.sortAttribute].localeCompare(e[this.sortAttribute]),"TopToBottom"===this.sortOrder?o:-o}))}},methods:{searchLessons(){},addToCart(t){this.$emit("add-item-to-cart",t)},removeProduct(t){this.$emit("remove-item-from-cart",t)}}},W=o(1241);const $=(0,W.A)(U,[["render",B],["__scopeId","data-v-061de4a1"]]);var N=$;const D=t=>((0,r.Qi)("data-v-1608e284"),t=t(),(0,r.jt)(),t),J={key:0,class:"container mt-4 container-custom"},Q={class:"row"},q={class:"col-sm-8 border rounded-3 p-3"},z={class:"row"},K={class:"col-sm-4 text-center"},R={class:"col-sm-4"},M={class:"mb-1"},Y={class:"mb-1"},G=["onClick"],H=D((()=>(0,r.Lk)("i",{class:"fa fa-minus-circle"},null,-1))),Z=[H],tt={class:"col-sm-4"},et={class:"mb-1"},ot=D((()=>(0,r.Lk)("i",{class:"fa fa-eur"}," per hour",-1))),st={class:"col-sm-12"},rt=D((()=>(0,r.Lk)("i",{class:"fa fa-eur"},null,-1))),at={class:"col-sm-4 mt-4"},nt={class:"container"},it={class:"row justify-content-center"},lt={class:"col-md-12"},ct={class:"card"},ut={class:"card-body"},dt=D((()=>(0,r.Lk)("h5",{class:"card-title"},"Details",-1))),mt={class:"mb-3"},pt=D((()=>(0,r.Lk)("label",{for:"username",class:"form-label"},"Name",-1))),vt={class:"mb-3"},bt=D((()=>(0,r.Lk)("label",{for:"phone",class:"form-label"},"Number",-1))),ft=["disabled"],ht={key:1},Lt=D((()=>(0,r.Lk)("p",null,"Your cart is empty.",-1))),kt=[Lt];function Ct(t,e,o,n,i,l){return o.cart.length?((0,r.uX)(),(0,r.CE)("div",J,[(0,r.Lk)("div",Q,[(0,r.Lk)("div",q,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.cart,(t=>((0,r.uX)(),(0,r.CE)("div",{key:t.lesson.id,class:"border-bottom mb-3 pb-3"},[(0,r.Lk)("div",z,[(0,r.Lk)("div",K,[(0,r.Lk)("i",{class:(0,a.C4)([t.lesson.icon,"display-1"])},null,2)]),(0,r.Lk)("div",R,[(0,r.Lk)("p",M,"Title: "+(0,a.v_)(t.lesson.title),1),(0,r.Lk)("p",Y,"Quantity: "+(0,a.v_)(t.amount),1),(0,r.Lk)("button",{class:"btn btn-outline-danger btn-sm",onClick:e=>l.removeProduct(t.lesson)},Z,8,G)]),(0,r.Lk)("div",tt,[(0,r.Lk)("p",et,[(0,r.eW)("Price: "+(0,a.v_)(t.lesson.price)+" ",1),ot])])])])))),128)),(0,r.Lk)("div",st,[(0,r.Lk)("p",null,[(0,r.eW)("Total Price: "+(0,a.v_)(l.cartTotal)+" ",1),rt])])]),(0,r.Lk)("div",at,[(0,r.Lk)("div",nt,[(0,r.Lk)("div",it,[(0,r.Lk)("div",lt,[(0,r.Lk)("div",ct,[(0,r.Lk)("div",ut,[dt,(0,r.Lk)("form",{onSubmit:e[2]||(e[2]=(0,s.D$)(((...t)=>l.submitOrder&&l.submitOrder(...t)),["prevent"]))},[(0,r.Lk)("div",mt,[pt,(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>i.username=t),class:"form-control",id:"username",name:"username",placeholder:"Name",required:""},null,512),[[s.Jo,i.username]])]),(0,r.Lk)("div",vt,[bt,(0,r.bo)((0,r.Lk)("input",{type:"number","onUpdate:modelValue":e[1]||(e[1]=t=>i.phone=t),class:"form-control",id:"phone",name:"phone",placeholder:"Number",required:""},null,512),[[s.Jo,i.phone]])]),(0,r.Lk)("button",{type:"submit",class:"btn btn-primary",disabled:!l.completeOrder}," Submit ",8,ft)],32)])])])])])])])])):((0,r.uX)(),(0,r.CE)("div",ht,kt))}var yt={name:"CheckoutList",props:["cart"],data(){return{username:"",phone:""}},computed:{cartTotal(){return this.cart.reduce(((t,e)=>t+e.lesson.price*e.amount),0)},completeOrder(){return this.username&&this.phone&&this.cart.length>0}},methods:{removeProduct(t){this.$emit("remove-item-from-cart",t)},submitOrder(){alert("Order submitted!")}}};const wt=(0,W.A)(yt,[["render",Ct],["__scopeId","data-v-1608e284"]]);var Tt=wt,Ot={name:"App",components:{Lesson:N,Checkout:Tt},data(){return{currentView:"Lesson",lessons:[],cart:[]}},created(){this.fetchLessons()},methods:{toggleView(){this.currentView="Lesson"===this.currentView?"Checkout":"Lesson"},async fetchLessons(){const t=await fetch("https://cst-3145-coursework-2.vercel.app/collection/lessons");this.lessons=await t.json()},addToCart(t){const e=this.cart.find((e=>e.lesson.id===t.id));e?e.amount++:this.cart.push({lesson:t,amount:1}),t.availability--},removeFromCart(t){const e=this.cart.findIndex((e=>e.lesson.id===t.id));-1!==e&&(this.cart[e].amount--,0===this.cart[e].amount&&this.cart.splice(e,1),t.availability++)}},computed:{cartSize(){return this.cart.reduce(((t,e)=>t+e.amount),0)}}};const At=(0,W.A)(Ot,[["render",l]]);var gt=At;(0,s.Ef)(gt).mount("#app")}},e={};function o(s){var r=e[s];if(void 0!==r)return r.exports;var a=e[s]={exports:{}};return t[s].call(a.exports,a,a.exports,o),a.exports}o.m=t,function(){var t=[];o.O=function(e,s,r,a){if(!s){var n=1/0;for(u=0;u<t.length;u++){s=t[u][0],r=t[u][1],a=t[u][2];for(var i=!0,l=0;l<s.length;l++)(!1&a||n>=a)&&Object.keys(o.O).every((function(t){return o.O[t](s[l])}))?s.splice(l--,1):(i=!1,a<n&&(n=a));if(i){t.splice(u--,1);var c=r();void 0!==c&&(e=c)}}return e}a=a||0;for(var u=t.length;u>0&&t[u-1][2]>a;u--)t[u]=t[u-1];t[u]=[s,r,a]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var s in e)o.o(e,s)&&!o.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={524:0};o.O.j=function(e){return 0===t[e]};var e=function(e,s){var r,a,n=s[0],i=s[1],l=s[2],c=0;if(n.some((function(e){return 0!==t[e]}))){for(r in i)o.o(i,r)&&(o.m[r]=i[r]);if(l)var u=l(o)}for(e&&e(s);c<n.length;c++)a=n[c],o.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return o.O(u)},s=self["webpackChunkwebstore"]=self["webpackChunkwebstore"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=o.O(void 0,[504],(function(){return o(8516)}));s=o.O(s)})();
//# sourceMappingURL=app.fe45c572.js.map